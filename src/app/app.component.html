<div class="card">
  <div class="step">Figure {{step + 1}} of {{questions.length}}</div>
  <h2>{{questions[step].title}}</h2>
  <p [innerHTML]="questions[step].desc"></p>
  <ul>
    <li [class.correct]="i === questions[step].correct && resolved" *ngFor="let answer of questions[step].answers; let i = index">
      <b>{{letters[i]}}:</b>&nbsp;
      <span [innerHTML]="answer"></span>
    </li>
  </ul>
  <div class="actions">
    <button *ngIf="!resolved && !questions[step].run" (click)="resolved = true">resolve</button>
    <button *ngIf="!resolved && questions[step].run" (click)="questions[step].run(); resolved = true">run code</button>
    <button *ngIf="resolved && step !== questions.length - 1" (click)="step = step + 1; resolved = false; output = ''">next</button>
  </div>
  <div class="console-output" *ngIf="output && questions[step].run">
    <h3>Console output</h3>
    <span [innerHTML]="output"></span>
  </div>
</div>
